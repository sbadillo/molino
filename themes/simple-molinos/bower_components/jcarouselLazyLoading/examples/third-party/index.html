<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Third-party plugin for waiting image loading - jCarousel Examples</title>

        <!-- Shared assets -->
        <link rel="stylesheet" type="text/css" href="../_shared/css/style.css">

        <!-- Example assets -->
        <link rel="stylesheet" type="text/css" href="jcarousel.third-party.css">

        <script type="text/javascript" src="../../bower_components/jquery/dist/jquery.min.js"></script>
        <script type="text/javascript" src="../../bower_components/imagesloaded/imagesloaded.pkgd.js"></script>
        <script type="text/javascript" src="../../bower_components/jcarousel/dist/jquery.jcarousel.js"></script>
        <script type="text/javascript" src="../../bower_components/jcarousel-swipe/dist/jquery.jcarousel-swipe.js"></script>
        <script type="text/javascript" src="../../dist/jquery.jcarousel-lazyloading.js"></script>

        <script type="text/javascript" src="jcarousel.third-party.js"></script>

    </head>
    <body>

        <div class="wrapper">
            <h1>Third-party plugin for waiting image loading</h1>

            <p>This example shows how you can use third-party plugins for waiting images loading</p>

            <div class="jcarousel-wrapper">
                <div class="jcarousel jcarousel-1">
                    <ul>
                        <li><img data-src="http://fakeimg.pl/193x100/ccc/?text=1 - 1" width="193" height="100" alt=""></li>
                        <li><img data-src="http://fakeimg.pl/193x100/bbb/?text=1 - 2" width="193" height="100" alt=""></li>
                        <li><img data-src="http://fakeimg.pl/193x100/aaa/?text=1 - 3" width="193" height="100" alt=""></li>
                        <li><img data-src="http://fakeimg.pl/193x100/999/?text=1 - 4" width="193" height="100" alt=""></li>
                        <li><img data-src="http://fakeimg.pl/193x100/888/?text=1 - 5" width="193" height="100" alt=""></li>
                        <li><img data-src="http://fakeimg.pl/193x100/777/?text=1 - 6" width="193" height="100" alt=""></li>
                        <li><img data-src="http://fakeimg.pl/193x100/666/?text=1 - 7" width="193" height="100" alt=""></li>
                        <li><img data-src="http://fakeimg.pl/193x100/555/?text=1 - 8" width="193" height="100" alt=""></li>
                        <li><img data-src="http://fakeimg.pl/193x100/444/?text=1 - 9" width="193" height="100" alt=""></li>
                        <li><img data-src="http://fakeimg.pl/193x100/555/?text=1 - 10" width="193" height="100" alt=""></li>
                        <li><img data-src="http://fakeimg.pl/193x100/666/?text=1 - 11" width="193" height="100" alt=""></li>
                        <li><img data-src="http://fakeimg.pl/193x100/777/?text=1 - 12" width="193" height="100" alt=""></li>
                        <li><img data-src="http://fakeimg.pl/193x100/888/?text=1 - 13" width="193" height="100" alt=""></li>
                        <li><img data-src="http://fakeimg.pl/193x100/999/?text=1 - 14" width="193" height="100" alt=""></li>
                        <li><img data-src="http://fakeimg.pl/193x100/aaa/?text=1 - 15" width="193" height="100" alt=""></li>
                        <li><img data-src="http://fakeimg.pl/193x100/bbb/?text=1 - 16" width="193" height="100" alt=""></li>
                        <li><img data-src="http://fakeimg.pl/193x100/ccc/?text=1 - 17" width="193" height="100" alt=""></li>
                        <li><img data-src="http://fakeimg.pl/193x100/ddd/?text=1 - 18" width="193" height="100" alt=""></li>
                    </ul>
                </div>

                <a href="#" class="jcarousel-control-prev">&lsaquo;</a>
                <a href="#" class="jcarousel-control-next">&rsaquo;</a>

                <p class="jcarousel-pagination">

                </p>
            </div>
            <div class="title">Init:</div>
<pre>
$('.jcarousel-1')
    .jcarousel()
    .jcarouselSwipe()
    .jcarouselLazyLoading({
        waitFunction: function($slides, callback, isScrollPrevented) {
            $slides.imagesLoaded(function() {
                // all images loaded
                callback();
            }).progress(function( instance, loadingImage ) {
                // one image loaded
                $(loadingImage.img).removeClass('loading');
            });

            // load images
            $slides.find('img[data-src]').each(function() {
                var $img = $(this);
                var src = $img.attr('data-src');

                $img
                    .attr('src', src)
                    .removeAttr('data-src')
                    .addClass('loading');

                if (isScrollPrevented) {
                    // if scroll was prevented then show animation not need
                    $img.addClass('non-transition');
                }
            });
        }
    });
</pre>
            <div class="jcarousel-wrapper">
                <div class="jcarousel jcarousel-2">
                    <ul>
                        <li><img data-src="http://fakeimg.pl/193x100/ccc/?text=2 - 1" width="193" height="100" alt=""></li>
                        <li><img data-src="http://fakeimg.pl/193x100/bbb/?text=2 - 2" width="193" height="100" alt=""></li>
                        <li><img data-src="http://fakeimg.pl/193x100/aaa/?text=2 - 3" width="193" height="100" alt=""></li>
                        <li><img data-src="http://fakeimg.pl/193x100/999/?text=2 - 4" width="193" height="100" alt=""></li>
                        <li><img data-src="http://fakeimg.pl/193x100/888/?text=2 - 5" width="193" height="100" alt=""></li>
                        <li><img data-src="http://fakeimg.pl/193x100/777/?text=2 - 6" width="193" height="100" alt=""></li>
                        <li><img data-src="http://fakeimg.pl/193x100/666/?text=2 - 7" width="193" height="100" alt=""></li>
                        <li><img data-src="http://fakeimg.pl/193x100/555/?text=2 - 8" width="193" height="100" alt=""></li>
                        <li><img data-src="http://fakeimg.pl/193x100/444/?text=2 - 9" width="193" height="100" alt=""></li>
                        <li><img data-src="http://fakeimg.pl/193x100/555/?text=2 - 10" width="193" height="100" alt=""></li>
                        <li><img data-src="http://fakeimg.pl/193x100/666/?text=2 - 11" width="193" height="100" alt=""></li>
                        <li><img data-src="http://fakeimg.pl/193x100/777/?text=2 - 12" width="193" height="100" alt=""></li>
                        <li><img data-src="http://fakeimg.pl/193x100/888/?text=2 - 13" width="193" height="100" alt=""></li>
                        <li><img data-src="http://fakeimg.pl/193x100/999/?text=2 - 14" width="193" height="100" alt=""></li>
                        <li><img data-src="http://fakeimg.pl/193x100/aaa/?text=2 - 15" width="193" height="100" alt=""></li>
                        <li><img data-src="http://fakeimg.pl/193x100/bbb/?text=2 - 16" width="193" height="100" alt=""></li>
                        <li><img data-src="http://fakeimg.pl/193x100/ccc/?text=2 - 17" width="193" height="100" alt=""></li>
                        <li><img data-src="http://fakeimg.pl/193x100/ddd/?text=2 - 18" width="193" height="100" alt=""></li>
                    </ul>
                </div>

                <a href="#" class="jcarousel-control-prev">&lsaquo;</a>
                <a href="#" class="jcarousel-control-next">&rsaquo;</a>

                <p class="jcarousel-pagination">

                </p>
            </div>

            <div class="title">Init:</div>
<pre>
$('.jcarousel-2')
    .jcarousel()
    .jcarouselSwipe()
    .jcarouselLazyLoading({
        preventScroll: false,
        waitFunction: function($slides, callback, isScrollPrevented) {
            $slides.imagesLoaded(function() {
                // all images loaded
                callback();
            }).progress(function( instance, loadingImage ) {
                // one image loaded
                $(loadingImage.img).removeClass('loading');
            });

            // load images
            $slides.find('img[data-src]').each(function() {
                var $img = $(this);
                var src = $img.attr('data-src');

                $img
                    .attr('src', src)
                    .removeAttr('data-src')
                    .addClass('loading');

                if (isScrollPrevented) {
                    // if scroll was prevented then show animation not need
                    $img.addClass('non-transition');
                }
            });
        }
    });
</pre>
        </div>

    </body>
</html>
